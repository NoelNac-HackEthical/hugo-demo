{{ define "main" }}
<main class="main">
  <article class="post-single">
    <header class="post-header">
      <h1>{{ .Title }}</h1>
      {{ partial "post-meta.html" . }}
    </header>

    <!-- Zone de contenu : TOC à gauche si disponible -->
    <div class="post-content {{ if .TableOfContents }}has-toc{{ end }}">
      {{ if .TableOfContents }}
        {{ .TableOfContents }}
      {{ end }}

      <!-- Contenu principal ; writeups forcés en 1 colonne sans casser la grille -->
      <div class="post-article {{ if eq .Section "writeups" }}no-cols{{ end }}">
        {{ .Content }}
      </div>
    </div>

    <!-- Navigation bas de page (précédent / suivant dans la section) -->
    <footer class="post-footer">
      <nav class="post-nav">
        {{ with .PrevInSection }}
          <a class="prev" href="{{ .RelPermalink }}" rel="prev" title="{{ .Title }}">← {{ .Title }}</a>
        {{ end }}
        {{ with .NextInSection }}
          <a class="next" href="{{ .RelPermalink }}" rel="next" title="{{ .Title }}">{{ .Title }} →</a>
        {{ end }}
      </nav>
    </footer>
  </article>
</main>
{{ end }}
