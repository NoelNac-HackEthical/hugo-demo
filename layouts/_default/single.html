{{/* layouts/_default/single.html — version “TOC PaperMod à droite” */}}
{{ define "main" }}
<article class="post-single">

  <header class="post-header">
    <h1 class="post-title">{{ .Title }}</h1>
    {{/* Si tu as un partial méta (dates, etc.), garde-le */}}
    {{ partial "post-meta.html" . }}
  </header>

  {{/* Disposition 2 colonnes pilotée par custom.css :
        - .post-content (flex:1)
        - #TableOfContents (280px, sticky) si présent
      IMPORTANT : #TableOfContents doit être frère de .post-content
  */}}
  <div class="post-content">
    {{ .Content }}
  </div>

  {{/* TOC PaperMod / Hugo : rendu seulement s’il y a des H2+ dans le contenu */}}
  {{ with .TableOfContents }}
    {{ . | safeHTML }}
  {{ end }}

</article>
{{ end }}
