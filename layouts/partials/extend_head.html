{{ $style := resources.Get "css/custom.css" | minify | fingerprint }}
<link rel="stylesheet" href="{{ $style.Permalink }}" integrity="{{ $style.Data.Integrity }}">

{{ if .Params.noindex }}<meta name="robots" content="noindex, nofollow">{{ end }}

<style>
/* === HOTFIX NETLIFY : TOC à droite (TOC rendue *dans* .post-content) === */

/* Grille *interne* au contenu : 1fr | sidebar TOC */
.post-content{
  display:grid !important;
  grid-template-columns:minmax(0,1fr) minmax(240px,320px);
  column-gap:2rem;
  align-items:start;
}

/* Placer explicitement la TOC en colonne 2, depuis le haut */
.post-content .toc,
.post-content > #TableOfContents{
  grid-column:2;
  grid-row:1 / -1;                /* s’étend du haut à la fin */
  position:sticky; top:5rem;
  max-height:calc(100vh - 7rem);
  overflow:auto;

  /* petite carte propre */
  background:var(--entry);
  border:1px solid var(--border);
  border-radius:.5rem;
  padding:.75rem .85rem;
}

/* Tout le reste du contenu reste en colonne 1 */
.post-content > *:not(.toc):not(#TableOfContents){
  grid-column:1;
  min-width:0;
}

/* Nettoyage de la liste interne de la TOC */
.post-content #TableOfContents > ul{ margin:0; padding-left:1rem; }

/* Numérotation titres dans le contenu (H2/H3/H4) */
.post-content{counter-reset:h2counter}
.post-content h2{counter-reset:h3counter}
.post-content h3{counter-reset:h4counter}
.post-content h2::before{counter-increment:h2counter;content:counter(h2counter) ". ";font-weight:600;margin-right:.25em}
.post-content h3::before{counter-increment:h3counter;content:counter(h2counter) "." counter(h3counter) " ";margin-right:.25em}
.post-content h4::before{counter-increment:h4counter;content:counter(h2counter) "." counter(h3counter) "." counter(h4counter) " ";margin-right:.25em}

/* Numérotation *dans* la TOC (H2/H3/H4) */
.post-content #TableOfContents>ul{counter-reset:toc-h2}
.post-content #TableOfContents>ul>li{counte
